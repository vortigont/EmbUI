## Changelog

* CI workflow added (builds examples)
* ui section log format corrections, some bugs cleaned
* remove bundled LinkedList library and declare as an external dependency
* adopted to LL iterators
* fixed buffer size for TimeProcessor

### v2.5.0 - 2021.09.3
#### EmbUI:
  * saving/accessing config params as JsonVariant instead of cast to String's
  * do not save/overwrite config.json on param set if it's value has not changed
  + cfg param read/save/update tend to Null object design pattern
    + var_remove() method - allows removing existing keys from cfg
    + var_dropnulls() method - create/update cfg key only with non-null value, remove empty ones
    + removed almost all default values from EmbUI cfg
      + default autogenerated hostname is non-persistent and does not need to be saved in config file
      + default WiFi-related params is not saved in cfg file, no need to recreate it each time
      + default time/date options are no longer stored in cfg
  + post() data from WebUI is checked for 'submit' key first to match submited forms with proper action (simplify section lookup and avoid collisions)
  - disabled UDP support by default, could be reenabled with EMBUI_UDP build flag
  - disabled MQTT loop by default, could be reenabled with EMBUI_MQTT build flag

#### JS frontend:
  * Submited form/buttons data is casted it's native types when serializing post to backend
    - checkboxes casted to true/false bool
    - text/numeric/range fields casted to Numeric types if not NaN
    - empty strings casted to null (results in simplier backend operations on keys/string checking)
    - strings otherwise
  - treat received null values the same way as 'undef' (cast to empty string ""), fixes sporadic '[object Object]' strings in fields
  + templater action for 'button' - js, triggers user-defined js function without sending any data to backend
    could be used to interact with UI elements or external data without posting calls to backend
  - user-js function to apply/copy current datetime from the browser via button's press

#### HTML elemetns:
  * default values from config used as JsonVariant (keeping it's type on save/load) instead of String'ifying
  + Button has types now - 'simple' button, 'submit' and 'js'
    + button can pass specified value on press along with it's element id
    + button_submit uses a special 'submit' key to pass action id to backend along with id:value
    + button_js can trigger user-defined front-end js function on press

#### TimeProcessor:
  + method to customize user ntp server
  + method to get a list of active ntp servers/IP's
  + setter to enable/disable NTP over DHCP

#### Networking:
  + Hostname get/set via specific method, removed default network vars from cfg
  + autogenerated hostname is non-persistent run-time only var

#### BasicUI:
  + Hosname setup moved into it's own field with constant display
  + ability to reset hosname to autogenereated default
  + set/remove custom ntp server
  + active ntp servers could be seen on a setup page
  + current device date/time display (updates on page refresh)
  + buttons to apply/copy current time from the browser via front-end js-call
  + "System Options" section -  clear EmbUI config, reboot, sysupdate

### v2.4.3  milestone
#### WiFi: Mode switching code optimization
    Gracefull mode switching for WiFi, now modes are switched with a slight delay
    that allows WebUI to reflect all the changes happening and prevent dangling ws connections.
#### JS lib:
  - removed duplicate data repost on each ws reconnect
#### esp8266: Multiple fixes for Arduino Core 3.0.0
    + Enable WiFi persistency for Arduino Core
    * build fixes
    - obsolete MemInfo lib
#### TimeProcessor:
  * timeSync event now works for esp32 platform also
  * Obsolete WorldTimeApi methods, kept in a sepparate class for reference
#### Other
  - EmbUI version defines, make it easy to control deps
  - ChipID gen code cleanup
  - unify json_frame*() methods for Interface class

#### resources:
  - generic html template now contains separate version placeholders for EmbUI and for Firmware


### v2.4.2  milestone
js: ws.onvalue() accepts raw key:value assoc array
ui: - common method to draw 'displays' with sensor's data, etc...
      display's appearance could be customized with CSS
    - weak function user_settings() for basicui class,
        allows adding custom sections to the 'Settings' menu
* some fixes and optimization

### v2.4.0  Release
Added:
  - Optimizations:
    - frameSend Class now can serialize json directly to the ws buffer
    - ws post data processing
    - no data echo on single ws client
    - config file save/load optimization
  - method allows actions unregistering
  - ws packet 'xload' triggers ajax request for block: object
  - Ticker has been replaced with TaskScheduler lib
  - cpp templates for html elements
  - custom named section mapped to <div> template
  - websocket rawdata packet type
  - Time Zones list loading via ajax


Fixes:
  - ws post dangling pointer fix
  - mqtt
  - range int/float overloads
  - WiFi ap/sta switching
  - sending current date/time from browser


### v2.2.0  Release

##### WEB/HTML:
- dark/light themes

##### ESP32:
- OTA for ESP32 fixed for fw/fsimages. LittleFS requires 3-rd party tool to generate image
- Upload progress fix
- DHCP-client workaround for hostname missing in requests (espressif/arduino-esp32#2537)
 - fixed updating WiFi station variable (ESP32)
 
##### ESP32/esp8266:
- Delayed reconnection, allows websocket to finish section transaction. Fix #1
- TimeLib: Workaround for newlib bug with <+-nn> timezone names (esp8266/Arduino#7702)

##### EMBUI:
- Embed system-dependent  settings vars/GUI into framework code
  - predefined code for 'settings' web-page
  - generic example changed to adopt predefined settings UI

##### + other fixes:
- mqtt default pub time
- etc...
